<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <title>Deep Learning Tool with Azure</title>
  <link rel="stylesheet" media="screen" href ="/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
  <meta name="viewport" content = "width=device-width, initial-scale=1.0">
</head>
<body>
<br>
<div class="container">
  <form  action="" method="post" role="form">

  <h2> What would you like to do with <b>{{ vm }}</b> VM?</h2>
  <br>
  <button type="submit" class="btn btn-default btn-block" name="start">Start VM</button>
  <button type="submit" class="btn btn-default btn-block" name="stop">Stop VM</button>
  <button type="submit" class="btn btn-default btn-block" name="deallocate">Deallocate VM</button>
  
  {% if ipaddr %}
  <h3>Starting {{ vm }} VM...</h3>
  <p>
    VM available at IP Address: {{ ipaddr }} <br>
    ssh into the vm with azureadminuser@{{ ipaddr }} and password (Azureadminpw1) <br>
    On Azure server, run jupyter notebook: nohup jupyter notebook --no-browser --port=8889& <br>
    On your local machine, enable local port forward: ssh -N -f -L localhost:8888:localhost:8889 azureadminuser@{{ ipaddr }} <br>
    Then you are ready to do some hands-on deep learning tasks! Woohoo!
  </p>
  <a class="btn btn-success btn-block" href="http://0.0.0.0:8888/" target="_blank">Open Jupyter Notebook</a>
<!--   <button href="http://0.0.0.0:8888/" target="_blank" type="submit" class="btn btn-default btn-block" name="opennotebook">Open Jupyter Notebook</button> -->
  {% endif %}

  </form>

</div>

</body>
</html>